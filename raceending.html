<html>
    <head>
        <meta charset="UTF-8" />
        <script src="https://cdn.jsdelivr.net/npm/p5@0.7.2/lib/p5.min.js"></script>
    </head>
    <body>
        <label> Target Radius </label>
        <input type="range" min="10" max="400" id="radius">
        <p id="results"> </p>
        <br>
    </body>

    <script>

        let target;
        let start;

        function setup() {
            createCanvas(700, 700);

            target = {
                x: width*0.75,
                y: height/2,
                radius: 200
            }

            start =  {
                x: width*0.1,
                y: height*0.9
            }
        }

        function draw() {
            background(0);
            fill("green");
            noStroke();

            target.radius = parseFloat(document.getElementById("radius").value);

            ellipse(target.x, target.y, target.radius*2, target.radius*2);

            let minDistance = Infinity;
            let minEndY;
            let minEndX;

            for (let i = 0; i < target.radius; i++) {
                let endY = target.y + i;
                let dy = start.y - endY;

                let endX = start.x;
                while (dist(endX, endY, target.x, target.y) > target.radius) {
                    endX ++;
                }
                let dx = endX - start.x;

                let distance = dx + dy;
                if (distance < minDistance) {
                    minDistance = distance;
                    minEndY = endY;
                    minEndX = endX;
                }
            }
            stroke(255);
            line(start.x, start.y, start.x, minEndY);
            line(start.x, minEndY, minEndX, minEndY);
            document.getElementById("results").innerHTML = `Target Radius: ${target.radius} % From Center: ${(minEndY-target.y)/target.radius}`;
            // print ((minEndY - target.y)/target.radius);
        }

    </script>

</html>